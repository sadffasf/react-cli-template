{"version":3,"file":"static/js/853.0d7d17db.chunk.js","mappings":"kOAOaA,EAAO,SAACC,GACjB,OAA6BC,EAAAA,EAAAA,UAAS,IAAtC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA2BF,EAAAA,EAAAA,UAAS,IAApC,eAAOG,EAAP,KAAcC,EAAd,KAEMC,EAAe,WACjBH,EAAW,IACXE,EAAU,IACVE,MAAM,wDAAwDC,MAAK,SAACC,GAAY,OAAOA,EAASC,UAASF,MAAK,SAAAG,GAC1GR,EAAWQ,GACXN,EAAWO,GAAAA,CAAgBD,EAAKE,KAAI,SAAAC,GAAO,OAAOA,EAAKC,MAAMD,EAAKE,UAAS,CACvEC,iBAAiB,GACjBC,gBAAgB,IAChBC,eAAgBC,SAASC,eAAe,gBAAgBC,YAAY,KACrEC,OACHC,QAIFA,EAAc,WAChBC,YAAW,WACP,IAAMC,EAAON,SAASO,iBAAiB,gBACjCC,EAAW,IAAIC,sBAAqB,SAAAC,GACtCA,EAAMC,SAAQ,SAAAC,GACNA,EAAEC,iBACFD,EAAEE,OAAOC,IAAMH,EAAEE,OAAOE,WAAWC,QAAQF,IAC3CP,EAASU,UAAUN,EAAEE,eAIjCR,EAAKK,SAAQ,SAAAC,GAAC,OAAIJ,EAASW,QAAQP,QACrC,MAQN,OAJAQ,EAAAA,EAAAA,YAAU,WACNlC,MACF,KAEM,4BACJ,0BACI,SAAC,IAAD,CAAQmC,KAAK,UAAUC,QAAS,WAC5BpC,KADJ,mCAKJ,gBAAKqC,GAAG,eAAeC,MAAO,CAACC,SAAS,WAAW9B,MAAM,QAAzD,SAEQX,EAAOS,KAAI,SAACC,EAAKgC,GACb,IAAMC,EAAY7C,EAAQ4C,GACpBF,EAAM,CACRC,SAAS,WACT9B,MAAMD,EAAKC,MAAM,KACjBC,OAAOF,EAAKE,OAAO,KACnBgC,KAAKlC,EAAKkC,KAAK,KACfC,IAAInC,EAAKmC,IAAI,MAEjB,OAAO,gBAAkBL,MAAOA,EAAzB,UACH,SAAC,IAAD,CAAQT,IChEH,iqGDgEuB,WAAUY,EAAUG,IAAKC,SAAS,EAAOC,UAAU,WAAWC,aAAa,gBAAKT,MAAO,CAAC7B,MAAM,OAAOC,OAAO,OAAOsC,WAAW,UAAiBvC,MAAOD,EAAKC,MAAOC,OAAQF,EAAKE,OAASuC,IAAI,MAD1MT,a,kPEzDjC,O,8BAFD,WACI,OAAO,0BAAK,SAAC,IAAD,UACf,E,CAHwBU,EAAAA","sources":["component/test/index.js","constants/index.js","page/index/index.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\r\nimport './test.css';\r\nimport justifiedLayout from 'justified-layout';\r\nimport {defaultImgSrc} from 'src/constants'\r\nimport {Image,Button} from \"antd\";\r\n\r\n\r\nexport const Cats = (props)=>{\r\n    const [catList,setCatList] = useState([]);\r\n    const [layout,setLayout] = useState([]);\r\n\r\n    const getCatPhotos = ()=>{\r\n        setCatList([]);\r\n        setLayout([]);\r\n        fetch('https://api.thecatapi.com/v1/images/search?limit=100').then((response)=>{return response.json()}).then(data=>{\r\n            setCatList(data);\r\n            setLayout( justifiedLayout(data.map(item=>{return item.width/item.height}),{\r\n                containerPadding:10,\r\n                targetRowHeight:160,\r\n                containerWidth: document.getElementById(\"catContainer\").clientWidth-20\r\n            }).boxes)\r\n            lazyLoadImg();\r\n        })\r\n    }\r\n\r\n    const lazyLoadImg = ()=>{\r\n        setTimeout(()=>{\r\n            const imgs = document.querySelectorAll(\"img.lazyload\");\r\n            const observer = new IntersectionObserver(nodes => {\r\n                nodes.forEach(v => {\r\n                    if (v.isIntersecting) { // 判断是否进入可视区域\r\n                        v.target.src = v.target.parentNode.dataset.src; // 赋值加载图片\r\n                        observer.unobserve(v.target); // 停止监听已加载的图片\r\n                    }\r\n                });\r\n            });\r\n            imgs.forEach(v => observer.observe(v));\r\n        },100)\r\n\r\n    }\r\n\r\n    useEffect(()=>{\r\n        getCatPhotos();\r\n    },[])\r\n\r\n    return (<div>\r\n        <div>\r\n            <Button type=\"primary\" onClick={()=>{\r\n                getCatPhotos();\r\n            }}\r\n            >换一批</Button>\r\n        </div>\r\n        <div id=\"catContainer\" style={{position:'relative',width:'100%'}}>\r\n            {\r\n                layout.map((item,index)=>{\r\n                    const imageItem = catList[index];\r\n                    const style={\r\n                        position:'absolute',\r\n                        width:item.width+'px',\r\n                        height:item.height+'px',\r\n                        left:item.left+'px',\r\n                        top:item.top+'px'\r\n                    }\r\n                    return <div  key={index} style={style}>\r\n                        <Image  src={defaultImgSrc} data-src={imageItem.url} preview={false} className=\"lazyload\" placeholder={<div style={{width:'100%',height:'100%',background:\"#ddd\"}}></div>} width={item.width} height={item.height}  alt=\"\"/>\r\n                    </div>\r\n                })\r\n            }\r\n        </div>\r\n    </div>)\r\n}\r\n\r\n","export const defaultImgSrc = 'data:image/png;base64,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'","import React,{Component} from 'react'\r\nimport {Cats} from \"src/component/test\";\r\n\r\nexport default class extends Component{\r\n    render() {\r\n        return <div><Cats /></div>\r\n    }\r\n}"],"names":["Cats","props","useState","catList","setCatList","layout","setLayout","getCatPhotos","fetch","then","response","json","data","justifiedLayout","map","item","width","height","containerPadding","targetRowHeight","containerWidth","document","getElementById","clientWidth","boxes","lazyLoadImg","setTimeout","imgs","querySelectorAll","observer","IntersectionObserver","nodes","forEach","v","isIntersecting","target","src","parentNode","dataset","unobserve","observe","useEffect","type","onClick","id","style","position","index","imageItem","left","top","url","preview","className","placeholder","background","alt","Component"],"sourceRoot":""}